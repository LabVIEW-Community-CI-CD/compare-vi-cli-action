{
  "schema": "agent-handoff/test-results@v1",
  "generatedAt": "2025-11-01T06:19:46.038Z",
  "status": "passed",
  "total": 4,
  "failureCount": 0,
  "results": [
    {
      "command": "node tools/npm/run-script.mjs priority:test",
      "exitCode": 0,
      "stdout": "\n> compare-vi-cli-action@0.5.4 priority:test\n> node --test tools/priority/__tests__/*.mjs\n\nTAP version 13\n# Subtest: shouldWriteCache returns true when no previous cache exists\nok 1 - shouldWriteCache returns true when no previous cache exists\n  ---\n  duration_ms: 1.7011\n  type: 'test'\n  ...\n# Subtest: shouldWriteCache ignores cachedAtUtc-only differences\nok 2 - shouldWriteCache ignores cachedAtUtc-only differences\n  ---\n  duration_ms: 1.3645\n  type: 'test'\n  ...\n# Subtest: shouldWriteCache detects meaningful differences\nok 3 - shouldWriteCache detects meaningful differences\n  ---\n  duration_ms: 0.291\n  type: 'test'\n  ...\n# [policy] auth source: GITHUB_TOKEN\n# Subtest: priority:policy --apply updates rulesets for develop/main/release\nok 4 - priority:policy --apply updates rulesets for develop/main/release\n  ---\n  duration_ms: 18.4183\n  type: 'test'\n  ...\n# [policy] auth source: file:C:\\\\github_token.txt\n# Subtest: priority:policy skips when repository settings require admin access\nok 5 - priority:policy skips when repository settings require admin access\n  ---\n  duration_ms: 7.9554\n  type: 'test'\n  ...\n# [validate] Dispatched Validate on LabVIEW-Community-CI-CD/compare-vi-cli-action @ feature/x\n# [validate] Ref 'missing' not found on remote 'upstream'.\n# [validate] Hint: rerun with --push-missing (or set VALIDATE_DISPATCH_PUSH=1) to publish the branch automatically.\n# [validate] Ref 'feature/x' not found on remote 'upstream'.\n# [validate] Pushing 'feature/x' to 'upstream'...\n# [validate] Dispatched Validate on LabVIEW-Community-CI-CD/compare-vi-cli-action @ feature/x\n# [validate] Upstream ref 'feature/x' differs from local tip. Forcing push of abc1234 to 'upstream'.\n# [validate] Dispatched Validate on LabVIEW-Community-CI-CD/compare-vi-cli-action @ feature/x\n# Subtest: parseCliOptions respects env override\nok 6 - parseCliOptions respects env override\n  ---\n  duration_ms: 1.668\n  type: 'test'\n  ...\n# Subtest: parseCliOptions accepts cli flags\nok 7 - parseCliOptions accepts cli flags\n  ---\n  duration_ms: 0.3879\n  type: 'test'\n  ...\n# Subtest: dispatchValidate blocks fork by default\nok 8 - dispatchValidate blocks fork by default\n  ---\n  duration_ms: 1.7393\n  type: 'test'\n  ...\n# Subtest: dispatchValidate allows fork when override set\nok 9 - dispatchValidate allows fork when override set\n  ---\n  duration_ms: 1.4461\n  type: 'test'\n  ...\n# Subtest: dispatchValidate fails when ref missing on remote without auto-push\nok 10 - dispatchValidate fails when ref missing on remote without auto-push\n  ---\n  duration_ms: 0.8467\n  type: 'test'\n  ...\n# Subtest: dispatchValidate pushes missing refs when flag set\nok 11 - dispatchValidate pushes missing refs when flag set\n  ---\n  duration_ms: 0.7499\n  type: 'test'\n  ...\n# Subtest: dispatchValidate refuses to overwrite upstream without force flag\nok 12 - dispatchValidate refuses to overwrite upstream without force flag\n  ---\n  duration_ms: 0.6331\n  type: 'test'\n  ...\n# Subtest: dispatchValidate force pushes when override present\nok 13 - dispatchValidate force pushes when override present\n  ---\n  duration_ms: 0.6665\n  type: 'test'\n  ...\n# Subtest: dry-run helpers create metadata and restore branch context\nok 14 - dry-run helpers create metadata and restore branch context\n  ---\n  duration_ms: 11083.1063\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl handles SSH remotes\nok 15 - parseGitRemoteUrl handles SSH remotes\n  ---\n  duration_ms: 1.609\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl handles HTTPS remotes\nok 16 - parseGitRemoteUrl handles HTTPS remotes\n  ---\n  duration_ms: 0.4383\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl handles git+https repository URLs\nok 17 - parseGitRemoteUrl handles git+https repository URLs\n  ---\n  duration_ms: 0.2641\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl handles ssh protocol URLs\nok 18 - parseGitRemoteUrl handles ssh protocol URLs\n  ---\n  duration_ms: 0.2144\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl returns null for invalid remotes\nok 19 - parseGitRemoteUrl returns null for invalid remotes\n  ---\n  duration_ms: 0.5037\n  type: 'test'\n  ...\n# Subtest: sanitizeGhText doubles backslashes and normalises EOL\nok 20 - sanitizeGhText doubles backslashes and normalises EOL\n  ---\n  duration_ms: 2.7128\n  type: 'test'\n  ...\n# Subtest: sanitizeGhText accepts non-string values\nok 21 - sanitizeGhText accepts non-string values\n  ---\n  duration_ms: 0.2664\n  type: 'test'\n  ...\n# Subtest: sanitizeIssuePayload sanitizes both title and body\nok 22 - sanitizeIssuePayload sanitizes both title and body\n  ---\n  duration_ms: 0.253\n  type: 'test'\n  ...\n# Subtest: buildIssueLinkSnippet builds default and custom prefixes\nok 23 - buildIssueLinkSnippet builds default and custom prefixes\n  ---\n  duration_ms: 0.406\n  type: 'test'\n  ...\n# Subtest: buildIssueLinkSnippet rejects invalid issue numbers\nok 24 - buildIssueLinkSnippet rejects invalid issue numbers\n  ---\n  duration_ms: 1.0552\n  type: 'test'\n  ...\n# Subtest: assertPresent throws when value empty\nok 25 - assertPresent throws when value empty\n  ---\n  duration_ms: 1.1882\n  type: 'test'\n  ...\n# Subtest: handoff issue summary matches schema\nok 26 - handoff issue summary matches schema\n  ---\n  duration_ms: 108.9252\n  type: 'test'\n  ...\n# Subtest: handoff router matches schema\nok 27 - handoff router matches schema\n  ---\n  duration_ms: 33.1075\n  type: 'test'\n  ...\n# Subtest: handoff hook summary matches schema\nok 28 - handoff hook summary matches schema\n  ---\n  duration_ms: 26.0972\n  type: 'test'\n  ...\n# Subtest: handoff release summary matches schema\nok 29 - handoff release summary matches schema\n  ---\n  duration_ms: 16.2912\n  type: 'test'\n  ...\n# Subtest: handoff test summary matches schema\nok 30 - handoff test summary matches schema\n  ---\n  duration_ms: 61.6719\n  type: 'test'\n  ...\n# Subtest: handoff session capsule matches schema\nok 31 - handoff session capsule matches schema\n  ---\n  duration_ms: 33.0671\n  type: 'test'\n  ...\n# Subtest: resolveProxyUrl selects HTTPS proxy when available\nok 32 - resolveProxyUrl selects HTTPS proxy when available\n  ---\n  duration_ms: 1.9616\n  type: 'test'\n  ...\n# Subtest: resolveProxyUrl falls back to HTTP proxy for HTTPS when needed\nok 33 - resolveProxyUrl falls back to HTTP proxy for HTTPS when needed\n  ---\n  duration_ms: 3.9197\n  type: 'test'\n  ...\n# Subtest: resolveProxyUrl respects NO_PROXY patterns and wildcards\nok 34 - resolveProxyUrl respects NO_PROXY patterns and wildcards\n  ---\n  duration_ms: 1.1995\n  type: 'test'\n  ...\n# Subtest: shouldBypassProxy handles IPv6 and port-specific exclusions\nok 35 - shouldBypassProxy handles IPv6 and port-specific exclusions\n  ---\n  duration_ms: 0.5464\n  type: 'test'\n  ...\n# Subtest: normalizeVersionInput handles tagged and untagged semver\nok 36 - normalizeVersionInput handles tagged and untagged semver\n  ---\n  duration_ms: 4.0313\n  type: 'test'\n  ...\n# Subtest: normalizeVersionInput rejects invalid versions\nok 37 - normalizeVersionInput rejects invalid versions\n  ---\n  duration_ms: 0.969\n  type: 'test'\n  ...\n# Subtest: writeReleaseMetadata writes JSON to release directory\nok 38 - writeReleaseMetadata writes JSON to release directory\n  ---\n  duration_ms: 29.6307\n  type: 'test'\n  ...\n# Subtest: summarizeStatusCheckRollup normalizes check data\nok 39 - summarizeStatusCheckRollup normalizes check data\n  ---\n  duration_ms: 0.601\n  type: 'test'\n  ...\n# Subtest: parseArgs captures required and optional flags\nok 40 - parseArgs captures required and optional flags\n  ---\n  duration_ms: 1.5941\n  type: 'test'\n  ...\n# Subtest: parseArgs sets help flag when requested\nok 41 - parseArgs sets help flag when requested\n  ---\n  duration_ms: 0.2759\n  type: 'test'\n  ...\n# Subtest: sanitizeSlug normalises titles into ascii slugs\nok 42 - sanitizeSlug normalises titles into ascii slugs\n  ---\n  duration_ms: 0.6476\n  type: 'test'\n  ...\n# Subtest: createSnapshot normalizes lists and produces stable digest\nok 43 - createSnapshot normalizes lists and produces stable digest\n  ---\n  duration_ms: 17.4821\n  type: 'test'\n  ...\n# Subtest: buildRouter honours policy map and default actions\nok 44 - buildRouter honours policy map and default actions\n  ---\n  duration_ms: 2.4719\n  type: 'test'\n  ...\n# Subtest: buildRouter adds fallback validation action when needed\nok 45 - buildRouter adds fallback validation action when needed\n  ---\n  duration_ms: 0.3441\n  type: 'test'\n  ...\n# Subtest: handoffStandingPriority removes old label, adds new, and syncs cache\nok 46 - handoffStandingPriority removes old label, adds new, and syncs cache\n  ---\n  duration_ms: 1.8904\n  type: 'test'\n  ...\n# Subtest: handoffStandingPriority adds label when none present\nok 47 - handoffStandingPriority adds label when none present\n  ---\n  duration_ms: 0.5731\n  type: 'test'\n  ...\n# Subtest: dry-run only inspects current issues\nok 48 - dry-run only inspects current issues\n  ---\n  duration_ms: 0.2668\n  type: 'test'\n  ...\n# Subtest: collectReleaseArtifacts gathers branch and finalize metadata\nok 49 - collectReleaseArtifacts gathers branch and finalize metadata\n  ---\n  duration_ms: 81.3119\n  type: 'test'\n  ...\n# Subtest: buildRouter adds finalize action when latest branch lacks finalize\nok 50 - buildRouter adds finalize action when latest branch lacks finalize\n  ---\n  duration_ms: 1.2491\n  type: 'test'\n  ...\n# Subtest: buildRouter suggests release branch creation when label present without metadata\nok 51 - buildRouter suggests release branch creation when label present without metadata\n  ---\n  duration_ms: 0.4417\n  type: 'test'\n  ...\n# Subtest: verify-release-branch succeeds when version/changelog updated\nok 52 - verify-release-branch succeeds when version/changelog updated\n  ---\n  duration_ms: 1453.9616\n  type: 'test'\n  ...\n# Subtest: verify-release-branch fails when changelog missing update\nok 53 - verify-release-branch fails when changelog missing update\n  ---\n  duration_ms: 1055.8282\n  type: 'test'\n  ...\n1..53\n# tests 53\n# suites 0\n# pass 53\n# fail 0\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 11259.7671",
      "stderr": "",
      "startedAt": "2025-11-01T06:19:30.769Z",
      "completedAt": "2025-11-01T06:19:42.507Z",
      "durationMs": 11738
    },
    {
      "command": "node tools/npm/run-script.mjs hooks:test",
      "exitCode": 0,
      "stdout": "\n> compare-vi-cli-action@0.5.4 hooks:test\n> node --test tools/hooks/__tests__/*.mjs\n\nTAP version 13\n# Subtest: detectPlane detects GitHub Ubuntu\nok 1 - detectPlane detects GitHub Ubuntu\n  ---\n  duration_ms: 0.742\n  type: 'test'\n  ...\n# Subtest: detectPlane detects GitHub Windows\nok 2 - detectPlane detects GitHub Windows\n  ---\n  duration_ms: 0.1066\n  type: 'test'\n  ...\n# Subtest: detectPlane detects WSL\nok 3 - detectPlane detects WSL\n  ---\n  duration_ms: 0.0834\n  type: 'test'\n  ...\n# Subtest: detectPlane detects macOS\nok 4 - detectPlane detects macOS\n  ---\n  duration_ms: 0.0869\n  type: 'test'\n  ...\n# Subtest: detectPlane defaults to linux bash\nok 5 - detectPlane defaults to linux bash\n  ---\n  duration_ms: 0.0828\n  type: 'test'\n  ...\n# Subtest: resolveEnforcement respects explicit env\nok 6 - resolveEnforcement respects explicit env\n  ---\n  duration_ms: 0.1067\n  type: 'test'\n  ...\n# Subtest: resolveEnforcement defaults to fail on CI\nok 7 - resolveEnforcement defaults to fail on CI\n  ---\n  duration_ms: 0.1322\n  type: 'test'\n  ...\n# Subtest: resolveEnforcement defaults to warn locally\nok 8 - resolveEnforcement defaults to warn locally\n  ---\n  duration_ms: 0.0735\n  type: 'test'\n  ...\n# Subtest: normalizeSummary zeroes timestamp and duration and sorts steps\nok 9 - normalizeSummary zeroes timestamp and duration and sorts steps\n  ---\n  duration_ms: 1.1973\n  type: 'test'\n  ...\n1..9\n# tests 9\n# suites 0\n# pass 9\n# fail 0\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 113.1746",
      "stderr": "",
      "startedAt": "2025-11-01T06:19:42.508Z",
      "completedAt": "2025-11-01T06:19:43.109Z",
      "durationMs": 601
    },
    {
      "command": "node tools/npm/run-script.mjs semver:check",
      "exitCode": 0,
      "stdout": "\n> compare-vi-cli-action@0.5.4 semver:check\n> node tools/priority/validate-semver.mjs\n\n{\n  \"schema\": \"priority/semver-check@v1\",\n  \"version\": \"0.5.4\",\n  \"valid\": true,\n  \"issues\": [],\n  \"checkedAt\": \"2025-11-01T06:19:43.525Z\"\n}",
      "stderr": "",
      "startedAt": "2025-11-01T06:19:43.109Z",
      "completedAt": "2025-11-01T06:19:43.558Z",
      "durationMs": 449
    },
    {
      "command": "node tools/npm/run-script.mjs priority:policy",
      "exitCode": 0,
      "stdout": "\n> compare-vi-cli-action@0.5.4 priority:policy\n> node tools/priority/check-policy.mjs\n\n[policy] auth source: file:C:\\github_token.txt\nMerge policy check passed.",
      "stderr": "",
      "startedAt": "2025-11-01T06:19:43.558Z",
      "completedAt": "2025-11-01T06:19:46.037Z",
      "durationMs": 2479
    }
  ],
  "runner": {}
}
