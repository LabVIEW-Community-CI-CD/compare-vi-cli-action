{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build CompareVI CLI (Release)",
      "type": "process",
      "command": "dotnet",
      "args": [
        "build",
        "src/CompareVi.Tools.Cli",
        "-c",
        "Release",
        "-nologo"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "problemMatcher": "$msCompile",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Build Tools Image (Docker)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-NoLogo",
        "-NoProfile",
        "-File",
        "tools/Build-ToolsImage.ps1",
        "-Tag",
        "comparevi-tools:local"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Run Non-LV Checks (Tools Image)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-NoLogo",
        "-NoProfile",
        "-File",
        "tools/Run-NonLVChecksInDocker.ps1",
        "-ToolsImageTag",
        "comparevi-tools:local",
        "-UseToolsImage"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Parse CLI Compare Outcome (.NET)",
      "type": "process",
      "command": "dotnet",
      "args": [
        "run",
        "--project",
        "src/CompareVi.Tools.Cli",
        "--",
        "compare",
        "parse",
        "--search",
        "tests/results/compare-cli",
        "--out",
        "tests/results/compare-cli/compare-outcome.json"
      ],
      "dependsOn": [
        "Build CompareVI CLI (Release)"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Integration (Standing Priority): Auto Push + Start + Watch",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-NoLogo",
        "-NoProfile",
        "-File",
        "tools/Start-IntegrationGated.ps1",
        "-AutoPush",
        "-Start",
        "-Watch"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Integration (Standing Priority): Watch existing run",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-NoLogo",
        "-NoProfile",
        "-File",
        "tools/Start-IntegrationGated.ps1",
        "-Watch"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Run Non-LV Checks (Docker)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-NoLogo",
        "-NoProfile",
        "-File",
        "tools/Run-NonLVChecksInDocker.ps1"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Run PrePush Checks",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-NoLogo",
        "-NoProfile",
        "-File",
        "tools/PrePush-Checks.ps1"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Run Pester Tests (Unit)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-NoLogo",
        "-NoProfile",
        "-File",
        "./Invoke-PesterTests.ps1"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "Run Pester Tests (Integration)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-NoLogo",
        "-NoProfile",
        "-File",
        "./Invoke-PesterTests.ps1",
        "-IncludeIntegration",
        "true"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    }
  ]
}
